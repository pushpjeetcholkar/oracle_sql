<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 11: Managing Objects with Data Dictionary Views</title>
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>Oracle SQL Guide</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link">Book 2 (Ch 9-11)</a>
                    <ul class="dropdown-menu">
                        <li><a href="chapter9.html">Ch 9: DDL Statements</a></li>
                        <li><a href="chapter10.html">Ch 10: Schema Objects</a></li>
                        <li><a href="chapter11.html">Ch 11: Data Dictionary</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <header class="page-header">
        <div class="container">
            <h1>Chapter 11: Managing Objects with Data Dictionary Views</h1>
            <p>Explore Oracle's metadata repository</p>
        </div>
    </header>

    <main class="page-content">
        <div class="container">
            <section class="content-section">
                <h2>1. Data Dictionary Overview</h2>
                
                <p>The Data Dictionary is a collection of tables and views maintained by Oracle Server containing database metadata.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>User Tables</td>
                            <td>Tables created by users (EMP, DEPT, etc.)</td>
                        </tr>
                        <tr>
                            <td>Data Dictionary</td>
                            <td>Oracle-maintained metadata tables and views</td>
                        </tr>
                    </tbody>
                </table>

                <div class="note-box">
                    <strong>Key Points:</strong>
                    <ul>
                        <li>Read-only access (queries only)</li>
                        <li>Owned by SYS user</li>
                        <li>Contains information about all database objects</li>
                        <li>Updated automatically by Oracle</li>
                    </ul>
                </div>
            </section>

            <section class="content-section">
                <h2>2. Data Dictionary Structure</h2>
                
                <h3>View Prefixes:</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Prefix</th>
                            <th>Scope</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>USER_</td>
                            <td>User's objects</td>
                            <td>Objects owned by current user</td>
                        </tr>
                        <tr>
                            <td>ALL_</td>
                            <td>Accessible objects</td>
                            <td>Objects user can access</td>
                        </tr>
                        <tr>
                            <td>DBA_</td>
                            <td>All objects</td>
                            <td>All objects in database (DBA only)</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
-- View your objects
SELECT object_name, object_type FROM user_objects;

-- View all accessible objects
SELECT owner, object_name, object_type FROM all_objects;

-- View all database objects (DBA privilege required)
SELECT owner, object_name, object_type FROM dba_objects;
                </div>
            </section>

            <section class="content-section">
                <h2>3. Common Data Dictionary Views</h2>
                
                <h3>Table Information:</h3>
                <div class="code-block">
-- View table information
SELECT table_name FROM user_tables;

-- View column information
SELECT column_name, data_type, nullable 
FROM user_tab_columns 
WHERE table_name = 'EMP';

-- View constraints
SELECT constraint_name, constraint_type, table_name
FROM user_constraints
WHERE table_name = 'EMP';
                </div>

                <h3>Index Information:</h3>
                <div class="code-block">
-- View indexes
SELECT index_name, table_name, uniqueness
FROM user_indexes;

-- View index columns
SELECT index_name, column_name, column_position
FROM user_ind_columns
WHERE table_name = 'EMP';
                </div>

                <h3>View Information:</h3>
                <div class="code-block">
-- View information about views
SELECT view_name FROM user_views;

-- View definition
SELECT text FROM user_views WHERE view_name = 'EMP_VIEW';
                </div>

                <h3>Sequence Information:</h3>
                <div class="code-block">
-- View sequences
SELECT sequence_name, min_value, max_value, increment_by
FROM user_sequences;
                </div>
            </section>

            <section class="content-section">
                <h2>4. Practical Examples</h2>
                
                <div class="code-block">
-- Find all tables with specific column
SELECT table_name 
FROM user_tab_columns 
WHERE column_name = 'DEPTNO';

-- Check table constraints
SELECT constraint_name, constraint_type,
       DECODE(constraint_type, 
              'P', 'Primary Key',
              'R', 'Foreign Key', 
              'C', 'Check',
              'U', 'Unique') as constraint_desc
FROM user_constraints 
WHERE table_name = 'EMP';

-- View foreign key relationships
SELECT a.constraint_name, a.table_name, a.column_name,
       b.table_name as referenced_table,
       b.column_name as referenced_column
FROM user_cons_columns a, user_cons_columns b
WHERE a.constraint_name = b.constraint_name
AND a.position = b.position
AND a.constraint_name IN (
    SELECT constraint_name FROM user_constraints 
    WHERE constraint_type = 'R'
);
                </div>
            </section>

            <div class="chapter-nav">
                <a href="chapter10.html">← Chapter 10: Schema Objects</a>
                <a href="chapter12.html">Next: Chapter 12 →</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 PITC USA. All rights reserved.</p>
        </div>
    </footer>

    <script src="../scripts/main.js"></script>
</body>
</html>